:root{
  --bg:#0f172a; --card:#1e293b; --muted:#94a3b8; --primary:#2563eb;
  --success:#10b981; --danger:#ef4444; --warning:#f59e0b; --accent:#7c3aed;
  --glass: rgba(255,255,255,0.03);
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Helvetica,Arial;}
html,body{height:100%}
body{margin:0;background:linear-gradient(135deg,var(--bg),#0b1220);color:#cbd5e1;min-height:100vh;padding-bottom:90px}
.header{position:sticky;top:0;background:linear-gradient(90deg,#071129,#0b1630);padding:12px 18px;border-bottom:1px solid rgba(255,255,255,0.03);z-index:200}
.header .title{display:flex;gap:12px;align-items:center;font-weight:700}
.container{max-width:1100px;margin:14px auto;padding:12px}
.nav{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
.tab{padding:10px 12px;border-radius:8px;background:var(--card);color:var(--muted);cursor:pointer;border:1px solid transparent}
.tab.active{background:linear-gradient(90deg,rgba(37,99,235,0.08),transparent);color:#fff;border-color:var(--primary)}
.card{background:linear-gradient(180deg,var(--card),#273244);padding:14px;border-radius:12px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.03)}
.grid{display:grid;gap:12px}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
.form-control{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#cbd5e1}
.btn{padding:8px 12px;border-radius:8px;border:none;background:var(--primary);color:#fff;cursor:pointer;font-weight:600}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
.small{font-size:0.9rem;color:var(--muted)}
.stat-row{display:flex;gap:12px;flex-wrap:wrap}
.stat{flex:1;min-width:160px;padding:12px;border-radius:10px;background:rgba(0,0,0,0.12);text-align:center}
.bottom-fixed{position:fixed;left:0;right:0;bottom:0;background:#071022;padding:8px;border-top:1px solid rgba(255,255,255,0.03);display:flex;gap:8px;justify-content:space-between;align-items:center}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:84px;background:#0f172a;border:1px solid rgba(255,255,255,0.06);padding:10px 14px;border-radius:8px;opacity:0;transition:opacity .25s;z-index:500}
.toast.show{opacity:1}

/* Unit map tiles */
.unit-map{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px}
.unit-tile{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;text-align:center;border:1px solid rgba(255,255,255,0.03);cursor:pointer}
.unit-name{font-weight:800;color:#fff;margin-bottom:6px}
.status-good{border-left:6px solid var(--success)}
.status-overdue{border-left:6px solid var(--danger)}
.status-expiring{border-left:6px solid var(--warning)}
.status-maint{border-left:6px solid var(--accent)}

/* installments table */
.installments-table{width:100%;border-collapse:collapse;margin-top:8px}
.installments-table th,.installments-table td{padding:8px;text-align:right;border-bottom:1px solid rgba(255,255,255,0.03)}
.badge{padding:6px 8px;border-radius:8px;font-weight:700}
.badge.paid{background:rgba(16,185,129,0.12);color:var(--success)}
.badge.due{background:rgba(6,182,212,0.08);color:#06b6d4}
.badge.overdue{background:rgba(239,68,68,0.12);color:var(--danger)}
.badge.future{background:rgba(245,158,11,0.08);color:var(--warning)}
.role-label{padding:6px 8px;border-radius:8px;background:#0b1220;color:var(--muted);font-weight:700}

/* login */
.login-card{max-width:420px;margin:40px auto;padding:18px}

/* splash */
#splash-screen{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,var(--bg),#071022);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999}
#splash-text{font-size:1.2rem;color:#fff}

/* responsive */
@media(min-width:900px){.container{max-width:1100px}}

/* تحسينات لكشف حساب المستأجر */
.statement-header {
  background: linear-gradient(90deg, rgba(37, 99, 235, 0.1), transparent);
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 12px;
  border-right: 4px solid var(--primary);
}

.statement-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
  margin-bottom: 16px;
}

.summary-card {
  background: rgba(255, 255, 255, 0.03);
  padding: 12px;
  border-radius: 8px;
  text-align: center;
}

.summary-card.paid {
  border-top: 3px solid var(--success);
}

.summary-card.overdue {
  border-top: 3px solid var(--danger);
}

.summary-card.pending {
  border-top: 3px solid var(--warning);
}

.statement-controls {
  display: flex;
  gap: 8px;
  align-items: center;
  margin-bottom: 12px;
  flex-wrap: wrap;
}

.statement-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 8px;
}

.statement-table th {
  background: rgba(0, 0, 0, 0.1);
  padding: 10px;
  text-align: right;
  font-weight: 600;
}

.statement-table td {
  padding: 10px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.03);
}

.statement-table tr:hover {
  background: rgba(255, 255, 255, 0.02);
}

.print-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
}

.tenant-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 15px;
}

.tenant-info div {
  padding: 8px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 6px;
}

/* أنماط التقارير الجديدة */
.dashboard-summary { 
  display: flex; 
  gap: 15px; 
  flex-wrap: wrap; 
  margin-bottom: 25px; 
}
.summary-card { 
  flex: 1; 
  min-width: 200px; 
  padding: 15px; 
  border-radius: 10px; 
  background: var(--card); 
  text-align: center; 
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.summary-card h3 { 
  margin: 0 0 10px 0; 
  font-size: 1rem; 
  color: var(--muted); 
}
.summary-card .value { 
  font-size: 1.8rem; 
  font-weight: 800; 
}

.charts-container { 
  display: flex; 
  flex-wrap: wrap; 
  gap: 20px; 
  margin-bottom: 20px; 
}
.chart-wrapper { 
  flex: 1; 
  min-width: 300px; 
  background: var(--card); 
  padding: 15px; 
  border-radius: 10px; 
}
.chart-wrapper h3 { 
  margin-top: 0; 
}

.filters { 
  display: flex; 
  gap: 10px; 
  margin-bottom: 20px; 
  flex-wrap: wrap; 
}
.filter-item { 
  display: flex; 
  align-items: center; 
  gap: 8px; 
}
.filter-item label { 
  color: var(--muted); 
}

.positive { color: var(--success); }
.negative { color: var(--danger); }
.warning { color: var(--warning); }

@media (max-width: 768px) {
  .statement-summary {
    grid-template-columns: 1fr;
  }
  
  .tenant-info {
    grid-template-columns: 1fr;
  }
  
  .statement-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .dashboard-summary { 
    flex-direction: column; 
  }
  .summary-card { 
    min-width: 100%; 
  }
  .charts-container { 
    flex-direction: column; 
  }
}